<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Bilder Upload Helper</title>
    <style>
        :root {
            --bg: #03050a;
            --neon: #00f0ff;
            --neon-2: #9b00ff;
            --accent: rgba(255,255,255,0.06);
        }

        body {
            background: var(--bg);
            font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto;
            color: white;
            padding: 40px;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .title {
            font-size: 2.5rem;
            background: linear-gradient(45deg, var(--neon), var(--neon-2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            margin-bottom: 30px;
        }

        .upload-section {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--accent);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .upload-area {
            border: 2px dashed var(--neon);
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .upload-area:hover {
            background: rgba(0,240,255,0.1);
            border-color: var(--neon-2);
        }

        .upload-area.dragover {
            background: rgba(0,240,255,0.2);
            transform: scale(1.02);
        }

        input[type="file"] {
            display: none;
        }

        .btn {
            background: linear-gradient(45deg, var(--neon), var(--neon-2));
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0,240,255,0.4);
        }

        .preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .preview-item {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .preview-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .instructions {
            background: rgba(155,0,255,0.1);
            border: 1px solid rgba(155,0,255,0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .step {
            margin-bottom: 15px;
            padding-left: 25px;
            position: relative;
        }

        .step::before {
            content: counter(step-counter);
            counter-increment: step-counter;
            position: absolute;
            left: 0;
            top: 0;
            background: var(--neon);
            color: var(--bg);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .instructions {
            counter-reset: step-counter;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">üì∏ Instagram Bilder Setup</h1>
        
        <div class="instructions">
            <h3>So funktioniert's:</h3>
            <div class="step">Lade hier deine Instagram-Bilder hoch</div>
            <div class="step">Sie werden automatisch umbenannt (post1.jpg, post2.jpg, etc.)</div>
            <div class="step">Kopiere die Dateien dann in den Instagram-Ordner</div>
            <div class="step">Deine Website zeigt automatisch deine eigenen Bilder!</div>
        </div>

        <div class="upload-section">
            <h3>üñºÔ∏è Profilbild hochladen</h3>
            <div class="upload-area" onclick="document.getElementById('profileInput').click()">
                <p>üì∑ Klicke hier oder ziehe dein Profilbild hierher</p>
                <p style="font-size: 0.9rem; opacity: 0.7;">Empfohlen: Quadratisch, max. 2MB</p>
            </div>
            <input type="file" id="profileInput" accept="image/*" onchange="handleProfileUpload(event)">
            <div id="profilePreview"></div>
        </div>

        <div class="upload-section">
            <h3>üì∏ Instagram Posts hochladen</h3>
            <div class="upload-area" onclick="document.getElementById('postsInput').click()">
                <p>üì∏ Klicke hier oder ziehe deine Instagram-Bilder hierher</p>
                <p style="font-size: 0.9rem; opacity: 0.7;">Mehrere Dateien m√∂glich, JPG/PNG/WebP</p>
            </div>
            <input type="file" id="postsInput" accept="image/*" multiple onchange="handlePostsUpload(event)">
            <div id="postsPreview" class="preview-grid"></div>
        </div>

        <div class="upload-section">
            <h3>üíæ Download bereit gemachte Dateien</h3>
            <p style="opacity: 0.8; margin-bottom: 20px;">Deine Bilder werden hier zum Download bereitgestellt:</p>
            <div id="downloadArea"></div>
        </div>

        <div style="text-align: center; margin-top: 40px;">
            <button class="btn" onclick="window.close()">Fertig</button>
            <button class="btn" onclick="location.reload()">Neu starten</button>
        </div>
    </div>

    <script>
        let uploadedPosts = [];

        function handleProfileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('profilePreview');
                preview.innerHTML = `
                    <div class="preview-item">
                        <img src="${e.target.result}" class="preview-image" alt="Profilbild">
                        <p>profile.jpg</p>
                        <button class="btn" onclick="downloadFile('${e.target.result}', 'profile.jpg')">üíæ Download</button>
                    </div>
                `;
            };
            reader.readAsDataURL(file);
        }

        function handlePostsUpload(event) {
            const files = Array.from(event.target.files);
            const preview = document.getElementById('postsPreview');
            preview.innerHTML = '';

            files.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const fileName = `post${index + 1}.jpg`;
                    const previewItem = document.createElement('div');
                    previewItem.className = 'preview-item';
                    previewItem.innerHTML = `
                        <img src="${e.target.result}" class="preview-image" alt="Post ${index + 1}">
                        <p>${fileName}</p>
                        <button class="btn" onclick="downloadFile('${e.target.result}', '${fileName}')">üíæ Download</button>
                    `;
                    preview.appendChild(previewItem);
                };
                reader.readAsDataURL(file);
            });
        }

        function downloadFile(dataURL, filename) {
            const link = document.createElement('a');
            link.href = dataURL;
            link.download = filename;
            link.click();

            // Zeige Download-Erfolg
            const downloadArea = document.getElementById('downloadArea');
            const successMsg = document.createElement('p');
            successMsg.textContent = `‚úÖ ${filename} wurde heruntergeladen!`;
            successMsg.style.color = var('--neon');
            downloadArea.appendChild(successMsg);

            setTimeout(() => {
                successMsg.remove();
            }, 3000);
        }

        // Drag & Drop Support
        document.querySelectorAll('.upload-area').forEach(area => {
            area.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('dragover');
            });

            area.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
            });

            area.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
                
                const files = Array.from(e.dataTransfer.files);
                if (this.onclick.toString().includes('profileInput')) {
                    document.getElementById('profileInput').files = e.dataTransfer.files;
                    handleProfileUpload({target: {files: [files[0]]}});
                } else {
                    document.getElementById('postsInput').files = e.dataTransfer.files;
                    handlePostsUpload({target: {files: files}});
                }
            });
        });
    </script>
</body>
</html>